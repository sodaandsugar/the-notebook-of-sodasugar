# Lec 5：逻辑等价、蕴涵、范式
## 1 逻辑等价与逻辑蕴含
### 1. 1 逻辑等价式（logical equivalence）
* 当命题公式 $A ↔ B$ 是重言式时，称 $A$ 逻辑等价于 $B$ ,记作 $A ≡ B$
> * 双重否定律：$¬¬A ≡ A$
> * 幂等律：$A ∨ A ≡ A$ ，$A ∧ A ≡ A$ 
> * 交换律：$A ∨ B ≡ B ∨ A$ ，$A ∧ B ≡ B ∧ A$
> * 结合律：$A ∨ B ∨ C ≡ A ∨ B ∨ C$ ，$A ∧ B ∧ C ≡ A ∧ B ∧ C$
> * 分配律：$A ∧ (B ∨ C) ≡ (A ∧ B) ∨ A ∧ C$ ， $A ∨ (B ∧ C) ≡ (A ∨ B) ∧ A ∨ C$
> * 德摩根律：$¬ A ∨ B ≡ ¬A ∧ ¬B， ¬ A ∧ B ≡ ¬A ∨ ¬B$
> * 吸收律：$A ∨ A ∧ B ≡ A， A ∧ A ∨ B ≡ A$
> * 蕴涵等值式：$A → B ≡ ¬A ∨ B$
> * 等价等值式：$A ↔ B ≡ (A → B) ∧ (B → A) $
> * 零律：$A ∨ T ≡ T， A ∧ F ≡ F$
> * 同一律：$A ∨ F ≡ A， A ∧ T ≡ A$
> * 排中律和矛盾律：$A ∨ ¬A ≡ T， A ∧ ¬A ≡ F$
> * $¬T ≡ F，¬F ≡ T$
> * $A ∧ B → C ≡ A → B → C$
> * 假言易位：$A → B ≡ ¬B → ¬A$
> * 归谬论：$A → B ∧ A → ¬B ≡ ¬A$
> * 等价等值式2：$A ↔ B ≡ (A ∧ B) ∨ (¬A ∧ ¬B)$
    
### 1. 2 逻辑蕴涵式（logical implication）
* 当命题公式 $A → B$ 是重言式时，称 $A$ 逻辑蕴涵 $B$，记做 $A ⊨ B$
* 公式 $A$ 的所有成真赋值都是公式 $B$ 的成真赋值
* $A ≡ B$ 可以看作 $A ⊨ B∧B ⊨ A$
  
> * $A ⊨ A ∨ B$
> * $A ∧ B ⊨ A$
> * $A ∧ (A → B) ⊨ B$
> * $(A → B) ∧ ¬B ⊨ ¬A$
> * $¬A ∧ (A ∨ B) ⊨ B$
> * $(A → B) ∧ (B → C) ⊨ A → C$
> * $(A → B) ∧ (C → D) ⊨ (A ∧ C) → (B ∧ D)$
> * $(A ↔ B) ∧ (B ↔ C) ⊨ A ↔ C$

* 推广形式：$Γ ⊨ B$
  * $Γ$ 中所有公式的合取逻辑蕴涵 $B$
  * 当 $Γ$ 中不包含任何公式时，记作 $⊨ B$，表示 $B$ 永真

> * $A ≡ B$ 当且仅当 $⊨ A ↔ B$
> * $A ⊨ B$ 当且仅当 $⊨ A → B$
> * 若A ≡ B ，则 B ≡ A
> * 传递性
>   * 若 $A ≡ B ∧ B ≡ C$ ，则 $A ≡ C$
>   * 若 $A ⊨ B ∧ B ⊨ C$，则 $A ⊨ C$
> * 若 $A ⊨ B$ ，则 $¬B ⊨ ¬A$
> * 若 $A ⊨ B ，A ≡ A'， B ≡ B'$，则 $A' ⊨ B'$

### 1. 3 RS 和 RR
#### 1. 3. 1 重言式的代入原理（RS: Rule of Substitution）
* 将重言式 $A$ 中的某个命题变元 $p$ 的所有出现都代换为命题公式 $B$ ，得到的命题公式 $A(B/p)$ 也是重言式
#### 1. 3. 2 命题公式的替换原理（RR: Rule of Replacement）
* 将命题公式 $A$ 中的子公式 $C$ 的部分出现替换为和 $C$ 逻辑等价的公式 $D$ ，得到的命题公式 $B$ 满足 $A ≡ B$

### 1. 4 逻辑等价式和逻辑蕴涵式的证明
* 真值表法
  * 分别列出 $A ↔ B$ 和 $A → B$ 的真值表，最后一列全为真即可
* 赋值法
  * 逻辑蕴涵式 $A ⊨ B$
    * $A$ 的任意一个成真赋值都是 $B$ 的成真赋值
    * 或：$B$ 的任意一个成假赋值都是 $A$ 的成假赋值
  * 如果证明了 $A ⊨ B$ 和 $B ⊨ A$，那么就证明了 $A ≡ B$
* 推演法
  * 利用已知的重言式，逻辑等价式和逻辑蕴涵式，采用RS和RR进行推演
  * 命题公式至少有一个成真赋值

## 2 范式
### 2. 1 基本构成
* 文字（literals）：命题常元、变元和它们的否定（前者称正文字，后者称负文字）
* 析取子句（disjunctive clauses）：文字或者若干文字的析取
* 合取子句（conjunctive clauses）：文字或者若干文字的合取
* 互补文字对（complemental pairs of literals）：一对正文字和负文字
### 2. 2 DNF 和 CNF
* 析取范式DNF（Disjunctive Normal Form）
  * $A' ≡ A$ ，$A'$ 为合取子句或者若干合取子句的析取
* 合取范式CNF（Conjunctive Normal Form）
  * $A' ≡ A$ ，$A'$ 为析取子句或者若干析取子句的合取
* 求范式的一般步骤
  * 消去公式中的联结词 $→$ 和 $↔$
    * 蕴涵等值式：$p → q$ 化为 $¬p ∨ q$
    * 等价等值式：$p ↔ q$ 化为 $(¬p ∨ q) ∧ (p ∨ ¬q)$ 或 $(p ∧ q) ∨ (¬p ∧ ¬q)$
  * 利用德摩根律将否定联结词 $¬$ 向内深入，最后只作用于文字
  * 将 $¬¬p$ 化简为 $p$
  * 利用分配律得到需要的析取或者合取范式
* 一个公式的析取范式和合取范式都不是唯一的
* 公式的析取范式可能同时也是合取范式
### 2. 3 范式用于重言式和矛盾式的识别
* 重言式识别：合取范式中每个析取子句都包含了至少一个互补文字对
* 矛盾式识别：析取范式中每个合取子句都包含了至少一个互补文字对

### 2. 4 主范式
#### 2. 4. 1 主析取范式（major disjunctive form）
  * 定义：$A'$ 中每一个合取子句里 $p_1，p_2，…，p_n$ 均恰出现一次
  * 主析取范式存在且唯一
  * 构造步骤
    * 假设 $A'$ 是公式 $A(p_1，p_2，…，p_n)$ 的析取范式
    * 若 $A'$ 中某个合取子句 $A_i$ 既不包含 $p_j$ 也不包含 $¬p_j$，则展开 $A_i$
      * $A_i ≡ A_i ∧ 1 ≡ A_i ∧ (p_j ∨ ¬p_j) ≡ (A_i ∧ p_j) ∨ (A_i ∧ ¬p_j)$
    * 将合取子句中重复出现的命题变元、合取子句和矛盾式消去
      * $p ∧ p ≡ p$
      * $A_i ∨ A_i ≡ A_i$      
      * $p ∧ ¬p ≡ 0$
    * 将所有的合取子句整理变元顺序，成为极小项，并得到主析取范式 $A''$
  * 极小项的性质
    * 没有两个不同的极小项是等价的
    * 极小项只有唯一的成真赋值
    * 极小项中命题变元与1对应，其否定与0对应
  * 具有相同主析取范式的公式是等值的，属于同一个等值类
      * 极小项的数量为 $N = 2^n$
      * 由极小项组合成的主析取范式的数量为 $2^N$
      * 等值类的数量等于主析取范式的数量

#### 2. 4. 2 主合取范式（major conjunctive form）
  * 定义：$A'$ 中每一个析取子句里 $p_1，p_2，…，p_n$ 均恰出现一次
  * 主合取范式存在且唯一
  * 构造步骤
    * 消去蕴含关系
    * 运用分配率将短语都转化成子句
    * 化成合取范式
    * 补充缺少的命题变元
    * 进一步化简
    * 将所有的析取子句整理变元顺序，成为极大项，并得到主合取范式 $A''$
  * 极大项的性质
    * 没有两个不同的极大项是等价的
    * 极大项只有唯一的成假赋值
    * 极大项中命题变元与0对应，其否定与1对应
  * 具有相同主合取范式的公式是等值的，属于同一个等值类
    * 极大项的数量为 $N = 2^n$
    * 由极大项组合成的主合取范式的数量为 $2^N$
    * 等值类的数量等于主合取范式的数量