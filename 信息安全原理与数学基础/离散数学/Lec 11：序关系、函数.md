# Lec 11 ：序关系、函数
## 1 序关系（ordered relation）
### 1. 1 基本概念
* 集合 $A$ 上的自反、反对称、传递的二元关系
* 存在序关系 $R$ 的集合 $A$ 称作有序集（ordered set）
* 用二元有序组 $<A,R>$ 表示，一般的有序集表示成 $<A,≤>$
### 1. 2 哈斯图（Hasse graph）
* 对序关系关系图的一种简化画法
* 省去环（自反性）
* 省去边的箭头，把向上的方向定位箭头方向（反对称性）
* 省去所有推定的边（传递性）
### 1. 3 排序
* 若 $a ≤ b$，则称 $a$ 先于或等于b（$a$ 小于或等于 $b$ ）
* 若 $¬(a ≤ b)$，则称 $a，b$ 不可比较或不可排序
* 若 $< A, ≤>$ 为有序集，$B ⊆ A$，则：
  * $B$ 的最小元 $b$ ： $b ∈ B ∧ ∀x(x ∈ B → b ≤ x)$
  * $B$ 的最大元 $b$ ： $b ∈ B ∧ ∀x(x ∈ B → x ≤ b)$
  * $B$ 的极小元 $b$ ： $b ∈ B ∧ ¬∃x(x ∈ B ∧ x ≠ b ∧ x ≤ b)$
  * $B$ 的极大元 $b$ ： $b ∈ B ∧ ¬∃x(x ∈ B ∧ x ≠ b ∧ b ≤ x)$
  * 极大和最大的差别在于 $B$ 中是否包含不可比较的元素
* 最大（小）元极大（小）元的定理
  * B的最大（小）元必为B的极大（小）元
  * 最大（小）元未必存在，存在则唯一
  * 极大（小）元对有限集必然存在，但未必唯一
* 上（下）界
  * 上界：$a ∈ A ∧ ∀x(x ∈ B → x ≤ a)$
  * 下界：$a ∈ A ∧ ∀x(x ∈ B → a ≤ x)$
  * 上确界：所有上界的集合最小元
  * 下确界：所有下界的集合最大元
* 上（下）界的定理
  * 如果b是B的最大（小）元，则b是B的上（下）确界
  * 如果b是B的上（下）确界，而且b ∈ B，则b一定是B的最大（小）元
  * 如果B有上（下）确界，则上（下）确界是唯一的
  * 上下界未必存在，存在时也未必唯一
  * 有上（下）界，也未必存在上（下）确界
### 1. 4 链和反链
* 链（chain）
  * 子集B中的任意两个元素都是可以比较的
  * $∀x∀y(x, y ∈ B → x ≤ y ∨ y ≤ x)$
* 反链（anti-chain）
  * 子集B中的任意两个元素都不可以比较的
  * $∀x∀y(x, y ∈ B ∧ x ≠ y → ¬(x ≤ y) ∧ ¬(y ≤ x))$
### 1. 5 半序关系（Partially ordered relation）
* 集合A上的反自反、反对称、传递的二元关系
* 将二元有序组 $<A,R>$ 表示为半序集
## 2 函数（function）
### 2. 1 基本概念
* 函数又称映射（mapping）或变换（transformation）
* 若 $X$ 到 $Y$ 的二元关系 $f ⊆ X×Y$ 对每个 $x ∈ X$ 都有唯一的 $y ∈ Y$ 使得 $< x, y >∈ f$，则称 $f$ 为 $X$ 到 $Y$ 的函数，记作 $f: X → Y$
* 当 $X = X_1×X_2× ⋯×X_n$时，称作n元函数
* 规定方法
  * 列表法
  * 图表法
  * 解析法
  * 归纳定义和递归定义：函数初值定义 $+$ 函数调用自身部分的定义 
* 函数的相等和包含
  * 对于 $f: A → B， g: C → D$，若 $A = C，B = D$，且对每个$x ∈ A$，都有 $f (x) = g(x)$，则函数 $f$ 等于 $g$，记作 $f = g$
  * 对于 $f: A → B， g: C → D$，若 $A ⊆ C，B = D$，且对每个 $x ∈ A$，都有 $f (x) = g(x)$，则函数 $f$ 包含于 $g$，记作 $f ⊆ g$
* 函数的个数
  * 如果 $|X| = m, |Y| = n$，则 $\{f｜f: X → Y\}$ 的基数为 $n^m$，共有 $n^m$ 个 $X$ 到 $Y$ 的函数
  * $X$ 到 $Y$ 的全体函数集合表示为 $Y^X$
* 映像（image）
  * $f'(A) = \{y\,|\,∃x\,(x ∈ A ∧ y = f(x))\}$
  * 映像 $f'$ 是 $\rho(X)$ 到 $\rho(Y)$ 的函数
  * 性质
    * $f' (A ∪ B) = f'(A) ∪ f'(B)$
    * $f'( A ∩ B) ⊆ f'(A) ∩ f'(B)$
    * $f'(A) − f'(B) ⊆ f'(A − B)$
* 函数的合成
  * 设 $f: X → Y， g: Y → Z$ ，那么关系的合成 $f ∘ g$ 是一个 $X$ 到 $Z$ 的函数
  * 习惯上将 $f(x)$ 和 $g(x)$ 的合成，记作 $g(f(x))$，所以函数合成也会按照关系合成的相反顺序记作 $g ∘ f$
  * 函数合成满足结合律，不满足交换律
  * $f ∘ E_X = E_Y ∘ f = f$
  * 对于 $f^n = f$，称作等幂函数
### 2. 2 分类
* 单射函数（injection）
  * $∀x1 ≠ x2$ 有 $f(x1) ≠ f(x2)$
  * 如果 $f$ 和 $g$ 都是单射函数，则其合成 $g ∘ f$ 也是单射函数
  * 如果 $g ∘ f$ 是单射函数，则 $f$ 是单射函数
* 满射函数（surjection）
  * $Ran(f) = Y$
  * 如果 $f$ 和 $g$ 都是满射函数，则其合成 $g ∘ f$ 也是满射函数
  * 如果 $g ∘ f$ 是满射函数，则 $g$ 是满射函数
* 双射函数（bijection）
  * 如果 $f$ 既是单射函数又是满射函数，称作双射函数
  * 如果 $f$ 和 $g$ 是双射函数，则其合成 $g ∘ f$ 也是双射函数
  * 如果 $g ∘ f$ 是双射函数，则 $f$ 是单射函数，$g$ 是满射函数
* 逆函数（inverse function）
  * 只有双射函数存在逆函数
  * 双射函数 $f$ 的逆函数 $f^{-1}$ 也是双射函数，称 $f$ 是可逆
  * 性质
    * $(f^{-1})^{-1} = f$
    * $f^{-1} ∘ f = E_X$
    * $f ∘ f^{-1} = E_Y$
    * $(g ∘ f)^{-1}= f^{-1} ∘ g^{-1}$
  * 对于非双射函数，也存在类似逆函数的对应函数
    * 左逆函数（left inverse）
      * 如果 $g∘ f = E_X$，则称 $g$ 为 $f$ 的左逆函数
      * $f$ 有左逆函数当且仅当 $f$ 是单射函数
    * 右逆函数（right inverse）
      * 如果 $f∘ g = E_Y$，则称 $g$ 为 $f$ 的右逆函数
      * $f$ 有右逆函数当且仅当 $f$ 是满射函数
    * $f$ 可逆当且仅当 $f$ 既有左逆函数又有右逆函数，且左逆函数和右逆函数相等
